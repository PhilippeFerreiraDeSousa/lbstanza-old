defpackage stz/linking-errors :
  import core
  import collections

public deftype LinkingError <: Exception

;Occurs when the program depends upon a C file or flag, but the
;compilation statement indicates a different type for this dependency.
public defstruct MismatchedCompilationStmt <: LinkingError :
  file?: True|False
  name: String  
defmethod print (o:OutputStream, e:MismatchedCompilationStmt) :
  defn type-str (file?:True|False) :
    "file" when file? else "flag"
  print(o, "The program has a stated dependency upon the C %_ %~, but the compilation \
            statement in the .proj file indicates that %~ is a %_." % [
    type-str(file?(e)), name(e), name(e), type-str(not file?(e))])